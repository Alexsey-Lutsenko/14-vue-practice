{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?3fbe"],"names":["class","for","value","loading","request","back","title","fio","phone","currency","amount","type","status","id","remuve","hasCanges","update","$route","params","setup","store","route","router","console","log","dispatch","push","data","components","AppPage","AppLoader","AppStatus","__exports__","render"],"mappings":"2IAGO,eAAgC,cAAxB,mBAAe,G,EACvB,eAA0B,cAAlB,aAAS,G,EACjB,eAAwB,cAAhB,WAAO,G,EACf,eAAyB,cAAjB,YAAQ,G,GAIdA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAO9BF,MAAM,0B,8HAtBC,EAAAG,S,iBAAlB,eAAwC,YACY,EAAAC,S,iBAApD,eAoBW,G,MApBAC,MAAM,EAAOC,MAAO,U,yBAC7B,iBAAsD,CAAtD,eAAsD,UAAnD,E,8BAAkC,EAAAF,QAAQG,KAAG,KAChD,eAAkD,UAA/C,E,8BAA4B,EAAAH,QAAQI,OAAK,KAC5C,eAA2D,UAAxD,E,8BAA0B,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACpD,eAEI,UAFD,EACD,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAG7B,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CACjC,EACA,EACA,EACA,G,cAJ2B,EAAAA,YAQ/B,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WACD,EAAAC,W,iBAA1C,eAAsE,U,MAA9Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAAyB,a,mDAEvD,eAEK,KAFL,EAA0C,kBAC1B,eAAE,EAAAC,OAAOC,OAAOL,IAAI,SACpC,I,gHAYa,GACbM,MADa,WAEX,IAAMhB,EAAU,gBAAI,GACdiB,EAAQ,iBACRR,EAAS,iBACTS,EAAQ,iBACRC,EAAU,iBACVlB,EAAU,eAAI,IAEpB,eAAS,wCAAC,qGACRmB,QAAQC,IAAI,QACZrB,EAAQD,OAAQ,EAFR,SAGckB,EAAMK,SAAS,kBAAmBJ,EAAMH,OAAOL,IAH7D,OAGRT,EAAQF,MAHA,OAIRU,EAAOV,MAAQE,EAAQF,MAAMU,OAC7BT,EAAQD,OAAQ,EALR,4CAQV,IAAMa,EAAY,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAE3DY,EAAK,yDAAI,qGACbS,QAAQC,IAAIH,EAAMH,OAAOL,IADZ,SAEPO,EAAMK,SAAS,iBAAkBJ,EAAMH,OAAOL,IAFvC,OAGbS,EAAOI,KAAK,KAHC,2CAAJ,qDAMLV,EAAK,yDAAI,2GACPW,EADO,iCACIvB,EAAQF,OADZ,IACmBU,OAAQA,EAAOV,MAAOW,GAAIQ,EAAMH,OAAOL,KAD1D,SAEPO,EAAMK,SAAS,iBAAkBE,GAF1B,OAGbvB,EAAQF,MAAMU,OAASA,EAAOV,MAHjB,2CAAJ,qDAMX,MAAO,CAACC,UAASC,UAASK,SAAA,OAAUK,SAAQE,SAAQJ,SAAQG,cAE9Da,WAAY,CAACC,UAAA,KAASC,YAAA,KAAWC,YAAA,O,qBCjEnC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.8ba4cf15.js","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n  <app-page :back=\"true\" :title=\"'Заявка'\" v-else-if=\"request\">\r\n    <p><strong>Имя владельца: </strong>{{request.fio}}</p>\r\n    <p><strong>Телефон: </strong>{{request.phone}}</p>\r\n    <p><strong>Сумма: </strong>{{currency(request.amount)}}</p>\r\n    <p><strong>Статус: </strong>\r\n      <app-status :type=\"request.status\"></app-status>\r\n    </p>\r\n\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Статус</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n\r\n    <button class=\"btn danger\" @click=\"remuve\">Удалить</button>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasCanges\">Обновить</button>\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{$route.params.id}} нет.\r\n  </h3>\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport AppPage from \"../components/ui/AppPage.vue\"\r\nimport AppLoader from \"../components/ui/AppLoader.vue\"\r\nimport AppStatus from \"../components/ui/AppStatus.vue\"\r\nimport {currency} from \"../utils/currency-formatter\"\r\n\r\nexport default {\r\n  setup() {\r\n    const loading = ref(true)\r\n    const store = useStore()\r\n    const status = ref()\r\n    const route = useRoute()\r\n    const router  = useRouter()\r\n    const request = ref({})\r\n\r\n    onMounted(async () => {\r\n      console.log('test');\r\n      loading.value = true\r\n      request.value = await store.dispatch('request/loadOne', route.params.id)\r\n      status.value = request.value.status\r\n      loading.value = false\r\n    })\r\n\r\n    const hasCanges = computed(() => request.value.status !== status.value)\r\n\r\n    const remuve = async () => {\r\n      console.log(route.params.id);\r\n      await store.dispatch('request/remove', route.params.id)\r\n      router.push('/')\r\n    }\r\n\r\n    const update = async () => {\r\n      const data = {...request.value, status: status.value, id: route.params.id}\r\n      await store.dispatch('request/update', data)\r\n      request.value.status = status.value\r\n    }\r\n\r\n    return {loading, request, currency, remuve, update, status, hasCanges}\r\n  },\r\n  components: {AppPage, AppLoader, AppStatus}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=1227c77c\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Vue\\\\14-vue-practice\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}